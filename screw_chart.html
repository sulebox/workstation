<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screw & Nut Standards - Choco Mint</title>
    <style>
        /* * ベーススタイルとチョコミントテーマ定義
         * Tailwind CSSのユーティリティに近いスタイルを定義しています
         */
        :root {
            --bg-color: #E0F7FA;          /* 淡いミントブルー */
            --main-color: #3E2723;        /* ダークチョコレート */
            --accent-color: #26C6DA;      /* 鮮やかなミントグリーン */
            --accent-light: #B2EBF2;      /* 薄いアクセント */
            --white: #FFFFFF;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-400: #9CA3AF;
            --error-bg: #FEF2F2;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg-color);
            color: var(--main-color);
            min-height: 100vh;
            line-height: 1.5;
            transition: background-color 0.3s;
        }

        /* ユーティリティクラスの再現 */
        .container {
            max-width: 56rem; /* max-w-4xl approx */
            margin: 0 auto;
            padding: 1rem;
        }
        
        @media (min-width: 768px) {
            .container { padding: 2rem; }
        }

        .space-y-8 > * + * { margin-top: 2rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-2 > * + * { margin-top: 0.5rem; }

        /* ヘッダー */
        .header { text-align: center; margin-bottom: 2rem; }
        .icon-wrapper {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem;
            border-radius: 9999px;
            background-color: var(--main-color);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            margin-bottom: 0.5rem;
        }
        .header h1 {
            font-size: 1.875rem;
            font-weight: bold;
            letter-spacing: -0.025em;
            margin: 0;
        }
        @media (min-width: 768px) { .header h1 { font-size: 2.25rem; } }
        .header p { font-size: 0.875rem; font-weight: 500; opacity: 0.8; margin: 0; }

        /* コントロールエリア */
        .control-section {
            background-color: var(--white);
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            padding: 1.5rem;
            border-top: 4px solid var(--main-color);
            margin-bottom: 2rem;
        }
        .control-flex {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        @media (min-width: 768px) {
            .control-flex {
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
            }
        }
        
        .label-text {
            display: block;
            font-size: 0.875rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.7;
        }
        .current-title {
            font-size: 1.25rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0;
        }
        .badge {
            font-size: 0.75rem;
            font-weight: normal;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            color: var(--white);
            background-color: var(--accent-color);
        }

        /* セレクトボックス */
        .select-wrapper {
            position: relative;
            width: 100%;
        }
        @media (min-width: 768px) { .select-wrapper { width: 16rem; } }

        select {
            width: 100%;
            appearance: none;
            -webkit-appearance: none;
            padding: 0.75rem 2.5rem 0.75rem 1rem;
            border-radius: 0.75rem;
            border: 2px solid var(--accent-color);
            background-color: #F0FDFA;
            color: var(--main-color);
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            outline: none;
            transition: all 0.2s;
        }
        select:focus {
            box-shadow: 0 0 0 2px var(--bg-color), 0 0 0 4px var(--accent-color);
        }
        .select-icon {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: var(--accent-color);
        }

        /* メイングリッド */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        @media (min-width: 1024px) {
            .main-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        .col-span-2 { grid-column: span 1; }
        .col-span-3 { grid-column: span 1; }
        @media (min-width: 1024px) {
            .col-span-2 { grid-column: span 2; }
            .col-span-3 { grid-column: span 3; }
        }

        /* カード共通 */
        .card {
            background-color: var(--white);
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .card-header {
            padding: 1rem;
            font-weight: bold;
            text-align: center;
            color: var(--white);
        }
        .header-accent { background-color: var(--accent-color); }
        .header-main { background-color: var(--main-color); }

        /* 画像エリア */
        .image-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background-color: var(--gray-50);
            min-height: 300px;
            position: relative;
        }
        .screw-image {
            max-width: 100%;
            max-height: 16rem;
            object-fit: contain;
            display: block; /* 初期状態 */
        }
        .image-placeholder {
            display: none; /* 初期状態 */
            text-align: center;
            padding: 1.5rem;
            border: 4px dashed var(--accent-light);
            border-radius: 0.75rem;
            width: 100%;
            height: 16rem;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-sizing: border-box;
        }
        .placeholder-icon {
            width: 2.5rem;
            height: 2.5rem;
            opacity: 0.5;
            color: var(--main-color);
        }
        .code-snippet {
            font-size: 0.75rem;
            font-family: monospace;
            background-color: var(--gray-200);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            color: #4B5563;
            word-break: break-all;
        }

        /* テーブルエリア */
        .table-container {
            overflow-x: auto;
            flex: 1;
        }
        table {
            width: 100%;
            text-align: center;
            border-collapse: collapse;
        }
        th {
            background-color: var(--accent-light);
            padding: 0.75rem;
            font-size: 0.875rem;
            font-weight: bold;
            border-bottom: 2px solid var(--accent-color);
            color: var(--main-color);
            white-space: nowrap;
        }
        td {
            padding: 0.75rem;
            font-size: 0.875rem;
            border-bottom: 1px solid var(--gray-100);
            font-weight: 500;
        }
        /* ストライプ（JSでクラス制御するが、CSSで nth-child も定義しておく） */
        tbody tr:nth-child(even) { background-color: #F5FFFA; }
        tbody tr:hover { background-color: rgba(38, 198, 218, 0.1); }

        .table-footer {
            padding: 0.75rem;
            font-size: 0.75rem;
            text-align: center;
            opacity: 0.6;
            background-color: var(--gray-50);
        }

        /* フッター */
        .site-footer {
            text-align: center;
            font-size: 0.75rem;
            opacity: 0.6;
            padding: 1rem 0;
        }

        /* 状態クラス */
        .hidden { display: none !important; }
        .flex { display: flex !important; }
    </style>
</head>
<body>

    <div class="container">
        
        <!-- ヘッダー -->
        <header class="header">
            <div class="icon-wrapper">
                <!-- Lucide Settings Icon -->
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
            </div>
            <h1>Screw & Nut Standards</h1>
            <p>ネジ・ナット規格サイズ一覧表</p>
        </header>

        <!-- コントロールエリア -->
        <section class="control-section">
            <div class="control-flex">
                <div>
                    <span class="label-text">Select Type</span>
                    <h2 class="current-title">
                        <span id="display-name">ボタンボルト</span>
                        <span id="display-english-name" class="badge">Button Bolt</span>
                    </h2>
                </div>

                <div class="select-wrapper">
                    <select id="screw-select">
                        <!-- JSでオプションを生成 -->
                    </select>
                    <div class="select-icon">
                        <!-- Lucide ChevronDown Icon -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- メインコンテンツ -->
        <main class="main-grid">
            
            <!-- 左側: 図面画像 -->
            <div class="col-span-2">
                <div class="card">
                    <div class="card-header header-accent">
                        形状・寸法図
                    </div>
                    <div class="image-container">
                        <!-- 正常時の画像 -->
                        <img id="screw-image" src="" alt="図面" class="screw-image">
                        
                        <!-- エラー時のプレースホルダー -->
                        <div id="image-placeholder" class="image-placeholder">
                            <!-- Lucide Info Icon -->
                            <svg class="placeholder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 16v-4"></path>
                                <path d="M12 8h.01"></path>
                            </svg>
                            <p style="font-weight: bold; font-size: 1.125rem; opacity: 0.7; margin:0;">画像準備中</p>
                            <p id="placeholder-path" class="code-snippet">src="..."</p>
                            <p style="font-size: 0.75rem; color: #9CA3AF; margin-top: 0.5rem; max-width: 200px;">
                                ※ 実際のファイルパスに画像を配置するとここに表示されます
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右側: 寸法表 -->
            <div class="col-span-3">
                <div class="card">
                    <div class="card-header header-main">
                        規格サイズ表 (単位: mm)
                    </div>
                    <div class="table-container">
                        <table id="dimensions-table">
                            <thead>
                                <tr id="table-header-row">
                                    <!-- JSで生成 -->
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- JSで生成 -->
                            </tbody>
                        </table>
                    </div>
                    <div class="table-footer">
                        ※ JIS規格等に基づく代表的な寸法例です。メーカーにより多少異なる場合があります。
                    </div>
                </div>
            </div>
        </main>

    </div>

    <!-- JavaScript ロジック -->
    <script>
        // -----------------------------------------------------------------------------
        // データ定義
        // -----------------------------------------------------------------------------
        const SCREW_DATA = {
            pan: {
                id: 'pan',
                name: 'ナベ小ねじ',
                englishName: 'Pan Head Screw',
                imagePath: '/images/screw-pan.png',
                headers: [
                    { key: 'd', label: 'ねじの呼び径 (d)' },
                    { key: 'dk', label: '頭部径 (dk)' },
                    { key: 'k', label: '頭部高さ (k)' },
                    { key: 'slot', label: '十字穴番号' },
                    { key: 'l', label: '呼び長さ (l)' },
                ],
                dimensions: [
                    { d: 'M2', dk: 3.5, k: 1.3, slot: 1, l: '4-20' },
                    { d: 'M2.3', dk: 4.0, k: 1.5, slot: 1, l: '4-20' },
                    { d: 'M2.5', dk: 4.5, k: 1.7, slot: 1, l: '5-30' },
                    { d: 'M2.6', dk: 4.5, k: 1.7, slot: 1, l: '5-30' },
                    { d: 'M3', dk: 5.5, k: 2.0, slot: 2, l: '5-40' },
                    { d: 'M4', dk: 7.0, k: 2.6, slot: 2, l: '6-50' },
                    { d: 'M5', dk: 9.0, k: 3.3, slot: 2, l: '8-50' },
                    { d: 'M6', dk: 10.5, k: 3.9, slot: 3, l: '8-60' },
                    { d: 'M8', dk: 14.0, k: 5.2, slot: 3, l: '10-60' },
                ],
            },
            truss: {
                id: 'truss',
                name: 'トラス小ねじ',
                englishName: 'Truss Head Screw',
                imagePath: '/images/screw-truss.png',
                headers: [
                    { key: 'd', label: 'ねじの呼び径 (d)' },
                    { key: 'dk', label: '頭部径 (dk)' },
                    { key: 'k', label: '頭部高さ (k)' },
                    { key: 'slot', label: '十字穴番号' },
                    { key: 'l', label: '呼び長さ (l)' },
                ],
                dimensions: [
                    { d: 'M2', dk: 4.5, k: 1.2, slot: 1, l: '4-20' },
                    { d: 'M2.5', dk: 5.7, k: 1.5, slot: 1, l: '5-30' },
                    { d: 'M3', dk: 6.9, k: 1.9, slot: 2, l: '5-40' },
                    { d: 'M4', dk: 9.4, k: 2.5, slot: 2, l: '6-50' },
                    { d: 'M5', dk: 11.8, k: 3.1, slot: 2, l: '8-50' },
                    { d: 'M6', dk: 14.0, k: 3.7, slot: 3, l: '8-60' },
                    { d: 'M8', dk: 17.8, k: 4.8, slot: 3, l: '10-60' },
                ],
            },
            cap: {
                id: 'cap',
                name: '六角穴付きボルト',
                englishName: 'Cap Bolt',
                imagePath: '/images/screw-cap.png',
                headers: [
                    { key: 'd', label: 'ねじの呼び径 (d)' },
                    { key: 'ds', label: '円筒部の径 (ds)' },
                    { key: 'dk', label: '頭部径 (dk)' },
                    { key: 'k', label: '頭部高さ (k)' },
                    { key: 's', label: '二面幅 (S)' },
                    { key: 'l', label: '呼び長さ (l)' },
                ],
                dimensions: [
                    { d: 'M2', ds: 2.00, dk: 3.80, k: 2.00, s: 1.5, l: '3-20' },
                    { d: 'M2.5', ds: 2.50, dk: 4.50, k: 2.50, s: 2.0, l: '4-25' },
                    { d: 'M3', ds: 3.00, dk: 5.50, k: 3.00, s: 2.5, l: '5-30' },
                    { d: 'M4', ds: 4.00, dk: 7.00, k: 4.00, s: 3.0, l: '6-40' },
                    { d: 'M5', ds: 5.00, dk: 8.50, k: 5.00, s: 4.0, l: '8-50' },
                    { d: 'M6', ds: 6.00, dk: 10.00, k: 6.00, s: 5.0, l: '10-60' },
                    { d: 'M8', ds: 8.00, dk: 13.00, k: 8.00, s: 6.0, l: '12-80' },
                ],
            },
            button: {
                id: 'button',
                name: 'ボタンボルト',
                englishName: 'Button Bolt',
                imagePath: '/images/screw-button.png',
                headers: [
                    { key: 'd', label: 'ねじの呼び径 (d)' },
                    { key: 'D', label: '頭部径 (D)' },
                    { key: 'H', label: '頭部高さ (H)' },
                    { key: 'B', label: '二面幅 (B)' },
                ],
                dimensions: [
                    { d: 'M3', D: 5.5, H: 2.0, B: 2.0 },
                    { d: 'M4', D: 7.5, H: 2.6, B: 2.5 },
                    { d: 'M5', D: 9.5, H: 3.4, B: 3.0 },
                    { d: 'M6', D: 10.5, H: 4.0, B: 4.0 },
                    { d: 'M8', D: 14.0, H: 5.0, B: 5.0 },
                    { d: 'M10', D: 18.0, H: 6.0, B: 6.0 },
                    { d: 'M12', D: 21.0, H: 7.0, B: 8.0 },
                    { d: 'M16', D: 28.0, H: 8.5, B: 10.0 },
                ],
            },
            nut: {
                id: 'nut',
                name: '六角ナット',
                englishName: 'Hex Nut',
                imagePath: '/images/nut-hex.png',
                headers: [
                    { key: 'd', label: 'ねじの呼び径 (d)' },
                    { key: 's', label: '二面幅 (S)' },
                    { key: 'e', label: '対角距離 (e)' },
                    { key: 'm', label: 'ナット高さ (m)' },
                ],
                dimensions: [
                    { d: 'M2', s: 4.0, e: 4.6, m: 1.6 },
                    { d: 'M2.3', s: 4.5, e: 5.2, m: 1.8 },
                    { d: 'M2.5', s: 5.0, e: 5.8, m: 2.0 },
                    { d: 'M2.6', s: 5.0, e: 5.8, m: 2.0 },
                    { d: 'M3', s: 5.5, e: 6.4, m: 2.4 },
                    { d: 'M3.5', s: 6.0, e: 6.9, m: 2.8 },
                    { d: 'M4', s: 7.0, e: 8.1, m: 3.2 },
                    { d: 'M5', s: 8.0, e: 9.2, m: 4.0 },
                    { d: 'M6', s: 10.0, e: 11.5, m: 5.0 },
                    { d: 'M8', s: 13.0, e: 15.0, m: 6.5 },
                ],
            },
        };

        const SCREW_ORDER = ['button', 'cap', 'truss', 'pan', 'nut'];

        // -----------------------------------------------------------------------------
        // アプリケーションロジック
        // -----------------------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            const selectEl = document.getElementById('screw-select');
            const displayNameEl = document.getElementById('display-name');
            const displayEnglishNameEl = document.getElementById('display-english-name');
            const screwImageEl = document.getElementById('screw-image');
            const imagePlaceholderEl = document.getElementById('image-placeholder');
            const placeholderPathEl = document.getElementById('placeholder-path');
            const tableHeaderRowEl = document.getElementById('table-header-row');
            const tableBodyEl = document.getElementById('table-body');

            // 1. セレクトボックスのオプション生成
            SCREW_ORDER.forEach(id => {
                const data = SCREW_DATA[id];
                const option = document.createElement('option');
                option.value = data.id;
                option.textContent = data.name;
                selectEl.appendChild(option);
            });

            // 2. 表示更新関数
            function updateView(id) {
                const data = SCREW_DATA[id];

                // タイトル更新
                displayNameEl.textContent = data.name;
                displayEnglishNameEl.textContent = data.englishName;

                // 画像更新とエラーハンドリングリセット
                screwImageEl.classList.remove('hidden');
                imagePlaceholderEl.classList.remove('flex'); // flexクラスを削除して非表示に
                imagePlaceholderEl.classList.add('hidden'); // hiddenクラスを念のため追加
                
                screwImageEl.src = data.imagePath;
                screwImageEl.alt = `${data.name} 図面`;
                
                // エラーパス表示用（まだ見えてないがデータセットしておく）
                placeholderPathEl.textContent = `src="${data.imagePath}"`;

                // テーブルヘッダー生成
                tableHeaderRowEl.innerHTML = '';
                data.headers.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header.label;
                    tableHeaderRowEl.appendChild(th);
                });

                // テーブルボディ生成
                tableBodyEl.innerHTML = '';
                data.dimensions.forEach(row => {
                    const tr = document.createElement('tr');
                    data.headers.forEach(header => {
                        const td = document.createElement('td');
                        td.textContent = row[header.key] !== undefined ? row[header.key] : '';
                        tr.appendChild(td);
                    });
                    tableBodyEl.appendChild(tr);
                });
            }

            // 3. イベントリスナー設定
            selectEl.addEventListener('change', (e) => {
                updateView(e.target.value);
            });

            // 画像読み込みエラー時の処理
            screwImageEl.addEventListener('error', () => {
                screwImageEl.classList.add('hidden');
                imagePlaceholderEl.classList.remove('hidden');
                imagePlaceholderEl.classList.add('flex'); // Flexboxレイアウトを有効化
            });

            // 初期表示 (ボタンボルト)
            selectEl.value = 'button';
            updateView('button');
        });
    </script>
</body>
</html>